#pragma checksum "D:\eSya Project\Solution\eSyaEnterprise_UI\trunk\eSyaEnterprise_UI\Areas\TokenSystem\Views\Generate\ETM_06_00.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "2efb3dedf74d12030102e6d29606d19c877485fb"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Areas_TokenSystem_Views_Generate_ETM_06_00), @"mvc.1.0.view", @"/Areas/TokenSystem/Views/Generate/ETM_06_00.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Areas/TokenSystem/Views/Generate/ETM_06_00.cshtml", typeof(AspNetCore.Areas_TokenSystem_Views_Generate_ETM_06_00))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"2efb3dedf74d12030102e6d29606d19c877485fb", @"/Areas/TokenSystem/Views/Generate/ETM_06_00.cshtml")]
    public class Areas_TokenSystem_Views_Generate_ETM_06_00 : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/css/TokenSystem/tokensystem.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("rel", new global::Microsoft.AspNetCore.Html.HtmlString("stylesheet"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/images/logo/esya-logo-whitebg.jpeg"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("img-responsive"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(0, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 2 "D:\eSya Project\Solution\eSyaEnterprise_UI\trunk\eSyaEnterprise_UI\Areas\TokenSystem\Views\Generate\ETM_06_00.cshtml"
  
    ViewData["Title"] = "ETM_06_00";
    Layout = "~/Views/Shared/_Layout_ws.cshtml";
    //Layout = null;

#line default
#line hidden
            BeginContext(119, 99, true);
            WriteLiteral("<style>\r\n    .bootstrap-select.form-control {\r\n        border-bottom-width: 0px;\r\n    }\r\n</style>\r\n");
            EndContext();
            BeginContext(218, 66, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "2efb3dedf74d12030102e6d29606d19c877485fb4864", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(284, 36, true);
            WriteLiteral("\r\n\r\n<input type=\"hidden\" id=\"hdBKey\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 320, "\"", 348, 1);
#line 14 "D:\eSya Project\Solution\eSyaEnterprise_UI\trunk\eSyaEnterprise_UI\Areas\TokenSystem\Views\Generate\ETM_06_00.cshtml"
WriteAttributeValue("", 328, ViewBag.businessKey, 328, 20, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(349, 19, true);
            WriteLiteral(" />\r\n<header>\r\n    ");
            EndContext();
            BeginContext(368, 73, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "2efb3dedf74d12030102e6d29606d19c877485fb6617", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(441, 317, true);
            WriteLiteral(@"
</header>
<main class=""divTK_panel"">

    <div class=""container"">
        <div class=""row"">
            <div class=""col-lg-12 col-md-12 col-sm-12"">
                <h1 class="""">Token Management System</h1>
            </div>
        </div>
        <section id=""dvMobileNo"">
            <div class=""row"">
");
            EndContext();
            BeginContext(1606, 142, true);
            WriteLiteral("                <div class=\"col-lg-12 col-md-12 col-sm-12 form-group\">\r\n                    <label>Mobile Number</label>\r\n                    ");
            EndContext();
            BeginContext(1749, 74, false);
#line 43 "D:\eSya Project\Solution\eSyaEnterprise_UI\trunk\eSyaEnterprise_UI\Areas\TokenSystem\Views\Generate\ETM_06_00.cshtml"
               Write(await Component.InvokeAsync("IsdMobileInput", new { id = "MobileNumber" }));

#line default
#line hidden
            EndContext();
            BeginContext(1823, 202, true);
            WriteLiteral("\r\n                </div>\r\n                <div class=\"col-lg-12 \">\r\n                    <button type=\"button\" class=\"btn btn-primary w-100\" id=\"btnContinue\">Continue</button>\r\n\r\n                </div>\r\n");
            EndContext();
            BeginContext(2348, 636, true);
            WriteLiteral(@"            </div>
        </section>
        <section id=""dvOTP"" style=""display:none"">
            <div class=""row"">
                <div class=""col-lg-12 col-md-12 col-sm-12 form-group"">
                    <div class=""input-group"">
                        <label class=""text-small pb-3"">Enter the OTP sent on <span id=""txtMobNoRD"" class=""font-weight-bold mr-1""></span><button type=""button"" class=""btn btn-outline-secondary mr-10"" id=""btnEditMobileNo""><i class=""fa fa-pen""></i></button></label>
                        <input type=""text"" id=""txtOTP"" maxlength=""4"" class=""form-control txtOTP w-50"" name=""otpnumber"" value="""" />
");
            EndContext();
            BeginContext(3156, 580, true);
            WriteLiteral(@"                        <div class=""input-group-append"">
                            <button class=""btn btn-outline-secondary""  id=""btn-resendOTP"" type=""button"">Resend OTP<span class=""txt-resendOTP""> in <span id=""countdowntimer"">60</span> S </span> </button>
                        </div>
                    </div>
                </div>


                    
                
                <div class=""col-lg-12 form-group"">

                    <button type=""button"" class=""btn btn-primary mr-10 w-100"" id=""btnConfirm"" onclick=""fnConfirmOTP()"">Confirm</button>
");
            EndContext();
            BeginContext(3932, 168, true);
            WriteLiteral("                    <p class=\"m-0\"><span id=\"lblOTP\"> OTP sent </span> </p>\r\n\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n\r\n    </div>\r\n</main>\r\n");
            EndContext();
            BeginContext(4471, 5715, true);
            WriteLiteral(@"
<script>
    var _intOTP = 0;
    $(function () {

        $(""#btn-resendOTP"").attr('disabled', true);
        $(""#lblOTP"").hide();
        //$("".txt-resendOTP"").hide();
        var mnH = $(""main"").height();
        var winH = $(window).height();
        if (winH < mnH) {
            $('footer').css('position', 'relative');
        }
        else {
            $('footer').css('position', 'absolute');
        }

    });

    //OTP resend Timer function starts
    function fnOTPTimer() {
        var timeleft = 60;
        $("".txt-resendOTP"").show();
        var downloadTimer = setInterval(function () {
            timeleft--;
            document.getElementById(""countdowntimer"").textContent = timeleft;
            if (timeleft <= 0) {
                clearInterval(downloadTimer);
                $(""#btn-resendOTP"").prop('disabled', false);
                $("".txt-resendOTP"").hide();
                $(""#lblOTP"").hide();
            }
        }, 1000);
    }
    //OTP resend Tim");
            WriteLiteral(@"er function ends

    $(""#btnContinue"").click(function () {
        // if ($(""#txtMobileNo"").val() == """" || $(""#txtMobileNo"").val() == null || $(""#txtMobileNo"").val() == undefined || $(""#txtMobileNo"").val().length < 10) {
        if ($('#cboMobileNumber').val() == ""0"" || $('#txtMobileNumber').val() == """" || $('#txtMobileNumber').val() == undefined || $('#txtMobileNumber').val().length < 10) {
            toastr.warning(""Please Enter the valid mobile number"");
            return false;
        }
        fnGenerateOTP();
    });
    $(""#btnEditMobileNo"").click(function () {
        $(""#dvMobileNo"").animate({ right: '0px', width: '100%', opacity: '1' }).css('display', 'block');
        $(""#dvOTP"").hide('slow');
        $(""#dvOTP"").animate({ top: '0px', height: '0px', opacity: 0, position: 'relative' }).hide();
        $(""#btn-resendOTP"").show();
        $(""#btn-resendOTP"").attr('disabled', true);
        $(""#lblOTP"").hide();
        _intOTP = 0;
    });

    function fnGenerateOTP() {
      ");
            WriteLiteral(@"  var obj = {
            Otptype: ""TK"",
            MobileNumber: $('#cboMobileNumber').val() + $('#txtMobileNumber').val().trim()
        };

        var URL = getBaseURL() + '/Generate/GenerateOTP';
        $.ajax({
            url: URL,
            type: 'POST',
            datatype: 'json',
            contenttype: 'application/json; charset=utf-8',
            data: obj,
            success: function (response) {
                if (response.Status) {
                    //fnSendOTPSMS(response.key)
                    $(""#dvMobileNo"").animate({ right: '420px', width: '0px', opacity: '0' }).css('display', 'none');
                    $(""#dvOTP"").animate({ top: '0px', height: '182px', opacity: 1, position: 'relative' }).show();
                    $(""#txtMobNoRD"").text('+' + $('#cboMobileNumber').val() + $('#txtMobileNumber').val());
                    if (_intOTP == 0) {
                        fnOTPTimer();
                        _intOTP = 1;
                    }
              ");
            WriteLiteral(@"      else {
                        $(""#btn-resendOTP"").hide();
                        $(""#lblOTP"").show();
                    }
                    
                }
                else {
                    toastr.error(response.Message);

                }
            },
            error: function (error) {
                toastr.error(error.statusText);
            }
        });
    }


    function fnConfirmOTP() {
        //localStorage.setItem(""isd"", $(""#txtISD"").val());
        //localStorage.setItem(""mobile"", $(""#txtMobileNo"").val());
        //var url = getBaseURL() + '/TokenSystem/Generate/ETM_07_00';
        //window.location.href = url;
        var obj = {
            Otptype: ""TK"",
            MobileNumber: $('#cboMobileNumber').val() + $('#txtMobileNumber').val().trim(),
            Otp: $('#txtOTP').val().trim()
        };
        var URL = getBaseURL() + '/Generate/ConfirmOTP';
        $.ajax({
            url: URL,
            type: 'POST',
            d");
            WriteLiteral(@"atatype: 'json',
            contenttype: 'application/json; charset=utf-8',
            data: obj,
            success: function (response) {
                if (response.Status) {
                    localStorage.setItem(""isd"", $('#cboMobileNumber').val());
                    localStorage.setItem(""mobile"", $('#txtMobileNumber').val().trim());
                    localStorage.setItem(""BKey"", $('#hdBKey').val());
                    var url = getBaseURL() + '/TokenSystem/Generate/ETM_07_00';
                    window.location.href = url;
                }
                else {
                    toastr.error(response.Message);
                }
            },
            error: function (error) {
                toastr.error(error.statusText);
            }
        });

    }
    function fnSendOTPSMS(_otp) {

        var URL = getBaseURL() + '/Generate/SendSMSForMobileOTP';
        $.ajax({
            url: URL,
            type: 'POST',
            //datatype: 'json',
       ");
            WriteLiteral(@"     contenttype: 'application/json; charset=utf-8',
            data: {
                isdCode: $('#cboMobileNumber').val(),
                mobileNumber: $('#txtMobileNumber').val().trim(),
                otp: _otp
            },
            success: function (response) {
                if (response.Status) {

                }
                else {
                    toastr.error(response.Message);
                }
            },
            error: function (error) {
                toastr.error(error.statusText);
            }
        });
    }

</script>

");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
